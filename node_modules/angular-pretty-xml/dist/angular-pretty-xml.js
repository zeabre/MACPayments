!function(e){return"function"==typeof define&&define.amd?define(["angular"],function(n){return e(n)}):"object"==typeof exports?module.exports=e(require("angular")).name:e(angular)}(function(e){function n(e){var n="";if(isNaN(parseInt(e)))n=e;else for(var r=0;e>r;r++)n+=" ";for(var i=["\n"],t=0;100>t;t++)i.push(i[t]+n);return i}function r(r,i){isFinite(i)?0!==i&&(i=i||2):e.isString(i)||(i=2);for(var t=r.replace(/>\s*</gm,"><").replace(/</g,"~::~<").replace(/\s*xmlns([=:])/g,"~::~xmlns$1").split("~::~"),f=t.length,a=!1,x=0,s="",u=n(i),d=0;f>d;d++)-1!==t[d].indexOf("<!")?(s+=u[x]+t[d],a=!0,(-1!==t[d].indexOf("-->")||-1!==t[d].indexOf("]>")||-1!==t[d].indexOf("!DOCTYPE"))&&(a=!1)):-1!==t[d].indexOf("-->")||-1!==t[d].indexOf("]>")?(s+=t[d],a=!1):/^<\w/.test(t[d-1])&&/^<\/\w/.test(t[d])&&/^<[\w:\-\.,]+/.exec(t[d-1])==/^<\/[\w:\-\.,]+/.exec(t[d])[0].replace("/","")?(s+=t[d],a||x--):s+=-1!==t[d].search(/<\w/)&&-1===t[d].indexOf("</")&&-1===t[d].indexOf("/>")?a?t[d]:u[x++]+t[d]:-1!==t[d].search(/<\w/)&&-1!==t[d].indexOf("</")?a?t[d]:u[x]+t[d]:t[d].search(/<\//)>-1?a?t[d]:u[--x]+t[d]:-1!==t[d].indexOf("/>")?a?t[d]:u[x]+t[d]:-1!==t[d].indexOf("<?")?u[x]+t[d]:-1!==t[d].indexOf("xmlns:")||-1!==t[d].indexOf("xmlns=")?u[x]+t[d]:t[d];return s.trim()}return e.module("prettyXml",[]).filter("prettyXml",function(){return r})});